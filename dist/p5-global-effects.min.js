class Effects{constructor(t){this.context=t,console.log("Effects running")}randomOffset(t,e){return t+this.context.random(-e,e)}randomZeroOne(){return this.context.random(0,1)}randomProb(){return this.randomZeroOne()>.5}givenProb(t){return this.randomZeroOne()>t}fuzzyValue(t){return this.randomProb()?this.randomOffset(t,10):random(t)}randomShaped(t,e){const o=this.context.random(t,e),r=this.context.random(t,e),n=this.context.random(t,e);return this.context.color(o,r,n)}randomColor(){return this.randomShaped(0,255)}randomPastelColor(){return this.randomShaped(155,255)}randomDarkColor(){return this.randomShaped(0,90)}shadedColor(t){const e=this.randomOffset(this.context.red(t),10),o=this.randomOffset(this.context.green(t),10),r=this.randomOffset(this.context.blue(t),10);return this.context.color(e,o,r)}shadedColorOff(t,e){const o=this.randomOffset(this.context.red(t),e),r=this.randomOffset(this.context.green(t),e),n=this.randomOffset(this.context.blue(t),e);return this.context.color(o,r,n)}randomPalette(t,e){const o=[t];for(let t=1;t<e;t+=1)o[t]=this.randomColor();return o}relatedPalette(t,e){const o=[t];for(let r=1;r<e;r+=1)o[r]=this.shadedColorOff(t,50);return o}stripes(t,e){const o=this.context.createGraphics(t,t);for(let t=0;t<o.width;t+=1){const r=this.context.map(t,0,o.width,0,e.length),n=e[this.context.floor(r)],h=this.context.random(e),i=this.randomProb()?n:h;o.stroke(this.shadedColor(i)),o.line(t,0,t,o.height)}return o}dots(t,e){const o=this.context.createGraphics(t,t);o.background(this.context.random(e)),o.noStroke();for(let r=0;r<t;r+=1){const r=this.shadedColor(this.context.random(e)),n=this.context.random(o.width),h=this.context.random(o.height),i=this.context.random(.3*t);o.fill(r),o.circle(n,h,i)}return o}randomBlurX(t){const e=this.context.createGraphics(t.width,t.height),o=t.get();e.loadPixels();for(let r=0;r<t.width;r+=1)for(let n=0;n<t.height;n+=1){const t=this.context.floor(this.context.random(n)),h=o.get(t,r);e.set(n,r,h)}return e.updatePixels(),e}fuzzyBlurX(t){const e=this.context.createGraphics(t.width,t.height),o=t.get();e.loadPixels();for(let r=0;r<t.width;r+=1)for(let n=0;n<t.height;n+=1){const t=o.get(this.fuzzyValue(r),n);e.set(r,n,t)}return e.updatePixels(),e}mosaic(t){const e=this.context.createGraphics(t.width,t.height),o=t.get();e.noStroke();const r=t.width/100;for(let n=0;n<t.width;n+=r)for(let h=0;h<t.height;h+=r){const t=o.get(n,h);e.fill(t),e.rect(n,h,r,r)}return e}shiftedPixels(t){const e=this.context.createGraphics(t.width,t.height),o=function(t){const e=[];for(let o=0;o<t.width;o+=1){const r=[];for(let e=0;e<t.height;e+=1)r.push(t.get(o,e));e.push(r)}return e}(t);for(let t=0;t<e.width;t+=1){const r=this.context.floor(this.context.random(.5*e.width)),n=[],h=o[t].length;for(let e=h-r;e<h;e+=1)n.push(o[t][e]);for(let e=r;e<h-r;e+=1)n.push(o[t][e]);for(let e=0;e<r;e+=1)n.push(o[t][e]);o[t]=this.randomProb()?n.sort():n}return function(t,e){const o=this.context.createGraphics(t.width,t.height);o.loadPixels();for(let t=0;t<o.width;t+=1)for(let r=0;r<o.height;r+=1)o.set(t,r,e[t][r]);return o.updatePixels(),o}(e,o)}randomLight(t){return t.pointLight(255,255,255,this.context.random(.5*-t.width,.5*t.width),this.context.random(.5*-t.height,.5*t.height),this.context.random(.5*-t.width,.5*t.width))}randomColoredLight(t,e){const o=this.context.red(e),r=this.context.green(e),n=this.context.blue(e),h=this.context.random(.5*-t.width,.5*t.width),i=this.context.random(.5*-t.height,.5*t.height),s=this.context.random(.5*-t.width,.5*t.width);return t.pointLight(o,r,n,h,i,s)}grainMask(t,e){const o=t.get(),r=this.context.createGraphics(t.width,t.height);for(let t=0;t<r.width;t+=1)for(let o=0;o<r.height;o+=1)this.givenProb(e)&&r.point(t,o);return o.mask(r.get()),o}linesMask(t,e){const o=t.get(),r=this.context.createGraphics(t.width,t.height);for(let t=0;t<r.height;t+=1)this.givenProb(e)&&r.line(0,t,r.width,t);return o.mask(r.get()),o}}
